package day9;

/* 6. Suppose that two threads “t1” and “t2” access a shared integer “x”. Thread “t1”
indefinitely increases “x” and “t2” indefinitely prints the value of “x”. That is the
threads run in an infinite loop. However, thread “t1” must not increase “x” till that
value of “x” is printed by “t2” and “t2” must not print the same value of “x” more
than once. */

class Thread11 extends Thread {
	private int x;

	public Thread11(int x) {
		this.x = x;
	}

	@Override
	public void run() {
		while (true) {
			// increment x
			x++;
			System.out.println("Thread11: x = " + x);
			try {
				// sleep for 1 second
				Thread.sleep(1000);
			} catch (InterruptedException e) {
				// do nothing
			}
		}
	}
}

class Thread22 extends Thread {
	private int x;

	public Thread22(int x) {
		this.x = x;
	}

	@Override
	public void run() {
		int previous = x;
		while (true) {
			if (x != previous) {
				// print x if it has changed
				System.out.println("Thread22: x = " + x);
				previous = x;
			}
		}
	}
}

public class q6 {

	public static void main(String[] args) {
		int x = 0;
		Thread11 Thread11 = new Thread11(x);
		Thread22 Thread22 = new Thread22(x);
		Thread11.start();
		Thread22.start();
	}
}

/* OUTPUT -
Thread11: x = 1
Thread11: x = 2
Thread11: x = 3
Thread11: x = 4
Thread11: x = 5
Thread11: x = 6
Thread11: x = 7
Thread11: x = 8
Thread11: x = 9
Thread11: x = 10
Thread11: x = 11
Thread11: x = 12
Thread11: x = 13
Thread11: x = 14
Thread11: x = 15
Thread11: x = 16
Thread11: x = 17
Thread11: x = 18
Thread11: x = 19
Thread11: x = 20
Thread11: x = 21
Thread11: x = 22
Thread11: x = 23
Thread11: x = 24
Thread11: x = 25
Thread11: x = 26
Thread11: x = 27
Thread11: x = 28
Thread11: x = 29
Thread11: x = 30
Thread11: x = 31
Thread11: x = 32
Thread11: x = 33
Thread11: x = 34
Thread11: x = 35
Thread11: x = 36
Thread11: x = 37
Thread11: x = 38
Thread11: x = 39
Thread11: x = 40
Thread11: x = 41
Thread11: x = 42
Thread11: x = 43
Thread11: x = 44
Thread11: x = 45
Thread11: x = 46
Thread11: x = 47
Thread11: x = 48
Thread11: x = 49
Thread11: x = 50
Thread11: x = 51
Thread11: x = 52
Thread11: x = 53
Thread11: x = 54
Thread11: x = 55
Thread11: x = 56
Thread11: x = 57
Thread11: x = 58
Thread11: x = 59
Thread11: x = 60
Thread11: x = 61
Thread11: x = 62
Thread11: x = 63
Thread11: x = 64
Thread11: x = 65
Thread11: x = 66
Thread11: x = 67
Thread11: x = 68
Thread11: x = 69
Thread11: x = 70
Thread11: x = 71
Thread11: x = 72
Thread11: x = 73
Thread11: x = 74
Thread11: x = 75
Thread11: x = 76
Thread11: x = 77
Thread11: x = 78
Thread11: x = 79
Thread11: x = 80
Thread11: x = 81
Thread11: x = 82
Thread11: x = 83
Thread11: x = 84
Thread11: x = 85
Thread11: x = 86
Thread11: x = 87
Thread11: x = 88
Thread11: x = 89
Thread11: x = 90
 */